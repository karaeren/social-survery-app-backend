import{r as c,s as V,H as h,I as b,J as k,K as B,L as I,G as S,M as T,n as U,o as A,e as C,f as e,w as o,k as i,x as d}from"./vendor.9b493a68.js";/* empty css                */import{u as F,a as K}from"./index.e25abac3.js";const L={class:"common-layout"},M=i("Social Survey App"),H=i("Login"),J={setup(N){const s=F(),{login:p}=K(),l=c(""),r=c(""),f=V();async function v(){let a;try{a=await p(l.value,r.value)}catch(t){let n="Unknown error...";t.response.data&&t.response.data.message&&(n=t.response.data.message),d.alert(n,"Error",{confirmButtonText:"OK"});return}a&&a.user&&a.user.role==="admin"?(s.setTokens(a.tokens),s.setUser(a.user),s.loggedIn=!0,f.push("/")):d.alert("User does not have required privileges!","Error",{confirmButtonText:"OK"})}return(a,t)=>{const n=h,m=b,u=k,E=B,g=I,x=S,w=T,y=U;return A(),C("div",L,[e(y,null,{default:o(()=>[e(n,null,{default:o(()=>[M]),_:1}),e(w,{class:"login-main"},{default:o(()=>[e(x,{class:"box-card"},{default:o(()=>[e(g,{class:"demo-form-inline","label-width":"80px"},{default:o(()=>[e(u,{label:"E-mail"},{default:o(()=>[e(m,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=_=>l.value=_)},null,8,["modelValue"])]),_:1}),e(u,{label:"Password"},{default:o(()=>[e(m,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=_=>r.value=_),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(u,{style:{"margin-bottom":"0"}},{default:o(()=>[e(E,{type:"primary",onClick:v},{default:o(()=>[H]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{J as default};

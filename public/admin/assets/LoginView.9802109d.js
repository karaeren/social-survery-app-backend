import{r as d,s as V,H as h,I as b,J as B,K as k,L as S,B as T,M as U,n as A,o as C,c as I,e,w as o,j as i,x as m}from"./vendor.2f5e2848.js";/* empty css                     */import{u as K,a as L}from"./index.abe41e06.js";const M={class:"common-layout"},F=i("Social Survey App"),H=i("Login"),J={setup(N){const n=K(),{login:p}=L(),l=d(""),r=d(""),f=V();async function v(){let a;try{a=await p(l.value,r.value)}catch(t){let s="Unknown error...";t.response.data&&t.response.data.message&&(s=t.response.data.message),m.alert(s,"Error",{confirmButtonText:"OK"});return}a&&a.user&&a.user.role==="admin"?(n.setTokens(a.tokens),n.setUser(a.user),n.loggedIn=!0,f.push("/")):m.alert("User does not have required privileges!","Error",{confirmButtonText:"OK"})}return(a,t)=>{const s=h,c=b,u=B,E=k,g=S,x=T,w=U,y=A;return C(),I("div",M,[e(y,null,{default:o(()=>[e(s,null,{default:o(()=>[F]),_:1}),e(w,{class:"login-main"},{default:o(()=>[e(x,{class:"box-card"},{default:o(()=>[e(g,{class:"demo-form-inline","label-width":"80px"},{default:o(()=>[e(u,{label:"E-mail"},{default:o(()=>[e(c,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=_=>l.value=_)},null,8,["modelValue"])]),_:1}),e(u,{label:"Password"},{default:o(()=>[e(c,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=_=>r.value=_),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(u,{style:{"margin-bottom":"0"}},{default:o(()=>[e(E,{type:"primary",onClick:v},{default:o(()=>[H]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{J as default};

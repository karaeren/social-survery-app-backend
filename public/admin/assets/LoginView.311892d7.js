import{r as m,s as V,H as h,I as b,J as k,K as B,L as S,G as T,M as U,n as A,o as C,e as I,f as e,w as o,k as i,x as d}from"./vendor.07862786.js";/* empty css                *//* empty css                     */import{u as K,a as L}from"./index.4c4f3f40.js";const M={class:"common-layout"},F=i("Social Survey App"),H=i("Login"),P={setup(N){const n=K(),{login:p}=L(),l=m(""),r=m(""),f=V();async function v(){let a;try{a=await p(l.value,r.value)}catch(t){let s="Unknown error...";t.response.data&&t.response.data.message&&(s=t.response.data.message),d.alert(s,"Error",{confirmButtonText:"OK"});return}a&&a.user&&a.user.role==="admin"?(n.setTokens(a.tokens),n.setUser(a.user),n.loggedIn=!0,f.push("/")):d.alert("User does not have required privileges!","Error",{confirmButtonText:"OK"})}return(a,t)=>{const s=h,c=b,u=k,E=B,g=S,x=T,w=U,y=A;return C(),I("div",M,[e(y,null,{default:o(()=>[e(s,null,{default:o(()=>[F]),_:1}),e(w,{class:"login-main"},{default:o(()=>[e(x,{class:"box-card"},{default:o(()=>[e(g,{class:"demo-form-inline","label-width":"80px"},{default:o(()=>[e(u,{label:"E-mail"},{default:o(()=>[e(c,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=_=>l.value=_)},null,8,["modelValue"])]),_:1}),e(u,{label:"Password"},{default:o(()=>[e(c,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=_=>r.value=_),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(u,{style:{"margin-bottom":"0"}},{default:o(()=>[e(E,{type:"primary",onClick:v},{default:o(()=>[H]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{P as default};
